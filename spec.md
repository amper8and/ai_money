# spec.md â€” UBA AI-Mobile Demo: Missions & Rewards App

**Version:** 1.0  
**Date:** February 2026  
**Status:** Live demo â€” development copy cloned and running independently

---

## 1. Overview

### 1.1 Product Summary
**UBA â€” Univerxe (AI-Mobile Demo)** is a mobile-first, single-page web application that demonstrates a gamified financial engagement experience for UBA (United Bank for Africa) customers. It showcases how a bank can use an AI-Mobile platform to drive customer behaviour through goal-based missions, reward mechanics, and a branded wallet experience.

**Tagline:** *"Turn money into momentum. Achieve goals. Unlock rewards. Live freer."*

### 1.2 Purpose
This is a **clickable demo / prototype**, not a production system. It is designed to:
- Demonstrate the UBA AI-Mobile product concept to stakeholders
- Showcase the missions & rewards user journey end-to-end
- Illustrate how financial actions (e.g. paying bills) can unlock tangible rewards (data, airtime, cashback)
- Serve as a starting point for a production build

### 1.3 Demo Persona
All data in the app is seeded with a fictional demo user:

| Field | Value |
|---|---|
| Name | Amina Diallo |
| Phone | +234 *** **7 |
| Email | a.diallo@email.com |
| Username | aminad |
| Wallet Cash | â‚¦2,500 |
| Wallet Data | 150MB |
| Badges | SME Club Member, Early Adopter |

---

## 2. URLs & Environments

| Environment | URL |
|---|---|
| Original production demo | https://qkaguvgn.gensparkspace.com/ |
| Development sandbox | https://3000-id4cik1v1merwzoobrqnf-6532622b.e2b.dev |
| GitHub repository | https://github.com/amper8and/ai_money |

---

## 3. Technology Stack

### 3.1 Backend
| Component | Technology |
|---|---|
| Framework | [Hono](https://hono.dev/) v4.12.2 |
| Runtime | Cloudflare Workers (edge runtime) |
| Deployment target | Cloudflare Pages |
| Build tool | Vite v6 with `@hono/vite-build` |
| Language | TypeScript (ESNext, strict mode) |
| JSX | Hono JSX (`hono/jsx`) |

### 3.2 Frontend
| Component | Technology |
|---|---|
| Rendering | Vanilla JavaScript (SPA, DOM-based) |
| CSS framework | Tailwind CSS v3 (CDN â€” `cdn.tailwindcss.com`) |
| Icons | Font Awesome 6.4.0 (CDN) |
| Font | Google Fonts â€” Montserrat (weights: 300, 400, 500, 600, 700, 800) |
| HTTP client | None (no external API calls in demo) |

### 3.3 State Management
Client-side only. A single global `state` object holds all application state in memory. No persistence layer (no database, no localStorage). State resets on page refresh.

### 3.4 Infrastructure
| Component | Technology |
|---|---|
| Hosting | Cloudflare Pages |
| Process manager (dev) | PM2 |
| Dev server | `wrangler pages dev` |
| Static asset serving | `serveStatic` from `hono/cloudflare-workers` |

---

## 4. Project Structure

```
webapp/
â”œâ”€â”€ src/
â”‚   â””â”€â”€ index.tsx              # Main Hono app â€” all routes + full HTML/JS for SPA
â”œâ”€â”€ public/
â”‚   â”œâ”€â”€ welcome-background-with-logo.jpg   # Welcome screen background image
â”‚   â”œâ”€â”€ amina-profile.png                  # Demo user avatar
â”‚   â””â”€â”€ static/
â”‚       â””â”€â”€ style.css          # (Reserved â€” currently unused; styles are inline)
â”œâ”€â”€ dist/                      # Build output (generated by `npm run build`)
â”‚   â”œâ”€â”€ _worker.js             # Compiled Cloudflare Worker
â”‚   â”œâ”€â”€ _routes.json           # Cloudflare Pages routing config
â”‚   â”œâ”€â”€ welcome-background-with-logo.jpg   # Copied from public/ for serving
â”‚   â””â”€â”€ amina-profile.png                  # Copied from public/ for serving
â”œâ”€â”€ ecosystem.config.cjs       # PM2 process manager config
â”œâ”€â”€ wrangler.jsonc             # Cloudflare Workers/Pages config
â”œâ”€â”€ vite.config.ts             # Vite build config with Hono plugins
â”œâ”€â”€ tsconfig.json              # TypeScript compiler config
â”œâ”€â”€ package.json               # Dependencies and npm scripts
â”œâ”€â”€ README.md                  # Project overview and quick-start
â””â”€â”€ spec.md                    # This file
```

---

## 5. Application Architecture

### 5.1 Routing
The app has **one server route**: `GET /` â€” which returns the full HTML page as a string from `index.tsx`.

Additional server routes serve static assets:
- `GET /static/*` â€” Tailwind/Font Awesome static assets (via `serveStatic`)
- `GET /welcome-background-with-logo.jpg` â€” Welcome screen background
- `GET /amina-profile.png` â€” User avatar image

All page navigation happens **client-side** via the `nav(page)` function (no page reloads, no URL changes).

### 5.2 Client-Side SPA Pattern
The frontend is a minimal hand-rolled SPA:

```
state (global JS object)
  â””â”€ isAuth: boolean         â€” whether user has "logged in"
  â””â”€ page: string            â€” current active page
  â””â”€ user: object            â€” demo user data
  â””â”€ missions: array         â€” list of missions
  â””â”€ rewards: array          â€” list of rewards
  â””â”€ totalRewards: object    â€” aggregated reward totals

render()                     â€” called after every state change
  â””â”€ reads state.isAuth and state.page
  â””â”€ calls the matching renderXxx() function
  â””â”€ sets document.getElementById('app').innerHTML
```

**Core functions:**
| Function | Description |
|---|---|
| `render()` | Master render dispatcher â€” routes to correct screen renderer |
| `nav(page)` | Updates `state.page` and calls `render()` |
| `login()` | Sets `state.isAuth = true`, navigates to `home` |
| `toast(msg)` | Creates a temporary floating notification (auto-removes after 2s) |
| `completeStep(stepId)` | Marks a mission step as done, increments progress, triggers rewards |

---

## 6. Screens & UI Specification

### 6.1 Welcome Screen (`page: 'welcome'` / `isAuth: false`)

**Trigger:** App load (default state)

**Layout:**
- Full-screen background image: `welcome-background-with-logo.jpg` (cover, centered)
- Centered content overlay (max-width: 28rem)
- UBA logo is embedded in the background image (no separate `<img>` tag)

**Content:**
- Tagline: `"Turn money into momentum"` â€” `text-xl font-semibold`
- Subtitle: `"Achieve goals. Unlock rewards. Live freer."` â€” `text-base text-gray-300`
- Two CTA buttons (full-width, stacked):
  1. **Continue with WhatsApp** â€” black background (`#000000`), WhatsApp icon (`fab fa-whatsapp`)
  2. **Continue with Phone Number** â€” UBA red background (`#E41000`), mobile icon (`fas fa-mobile-alt`)

**Behaviour:**
- Both buttons call `login()` â†’ sets `isAuth = true` â†’ navigates to `home`
- No actual authentication â€” this is a demo bypass

**CSS classes used:** `min-h-screen`, `flex items-center justify-center`, `space-y-4`, `rounded-xl`, `active:scale-95`

---

### 6.2 Home Dashboard (`page: 'home'`)

**Trigger:** After login, or nav('home')

**Layout:** Scrollable single-column, dark background (`#0a0a0a`), with a sticky floating CTA at the bottom.

**Sections (top to bottom):**

#### Header Bar (background: `#1a1a1a`)
- Left: `"Hi, Amina ğŸ‘‹"` (text-2xl font-bold) + phone number (text-gray-400 text-sm)
- Right: Circular avatar `amina-profile.png` â€” tappable â†’ `nav('profile')`

#### Quick Action Shortcuts (4-column grid)
Each shortcut: 56Ã—56px rounded square (`rounded-2xl`), UBA red background (`#E41000`), white icon + label below

| Label | Icon | Action |
|---|---|---|
| Payments | `fa-credit-card` | (no-op in demo) |
| Earn | `fa-coins` | `nav('mission')` |
| Goals | `fa-bullseye` | (no-op in demo) |
| Transfer | `fa-exchange-alt` | (no-op in demo) |

#### Mystery Box Card
- Gold gradient background (`rgba(245,158,11,0.2)` â†’ `rgba(249,115,22,0.2)`)
- Gold border (`rgba(245,158,11,0.3)`)
- Gift icon (`fa-gift`, gold) + "Mystery Box" title + "Complete 3 goals to unlock" subtitle

#### Your Rewards Card
- Lists `state.rewards` (3 items)
- Each row: amount (font-semibold), status badge (color-coded), source label
- Status colours:
  - `redeem` â†’ `#E41000` (UBA red)
  - `pending` â†’ `#666` (grey)
  - `redeemed` â†’ `#10b981` (emerald)
- Footer: Total Rewards summary (`â‚¦1200+ 2GB`)

#### Active Mission Card (Bills Booster preview)
- Subtle green border (`rgba(16,185,129,0.2)`)
- "Active Goal" badge (gold), mission name, description with reward hint
- Progress bar (emerald gradient) + `{progress}/{total}` counter
- "Continue â†’" button (emerald) â†’ `nav('mission')`

#### Floating CTA (fixed bottom)
- Full-width rounded pill button, UBA red (`#E41000`)
- "Chat to AI-Mobile" with chat icon (`fa-comments`)
- Position: `fixed bottom-6 left-6 right-6 z-30`
- No action in demo (button present for visual completeness)

---

### 6.3 Mission Details Screen (`page: 'mission'`)

**Trigger:** `nav('mission')` from Home shortcuts or Active Mission card

**Layout:** Scrollable, dark background

**Header Bar (background: `#1a1a1a`):**
- Back arrow `â†` â†’ `nav('home')`
- Title: "Mission Details"

**Mission Summary Card:**
- Lightning bolt icon (`fa-bolt`, gold) in gold-tinted rounded square
- Mission name: `"Bills Booster"` (text-2xl font-bold)
- Description: `"Pay 3 bills this month"`
- Badge: `"7 days remaining"` (gold warning badge)
- Progress bar (taller: `h-3`) with `{progress}/{total} completed` counter
- Reward preview box: gold gradient background, gift icon, `"250MB data"` in gold

**Steps List:**
Renders `state.missions[0].steps` as a vertical list of cards:

| State | Visual |
|---|---|
| Incomplete | Dark card, numbered circle (`#1a1a1a`/grey), black text, "Complete Step" button (emerald) |
| Complete | Green-tinted card (`rgba(16,185,129,0.1)`), green border, green checkmark circle, strikethrough text in `#10b981`, "Completed" label |

**"Pay Bill Now" Button:**
- Only shown when `m.progress < m.total`
- Full-width emerald button â†’ `completeStep(nextIncompleteStepId)`
- Sub-label: `"Demo: Simulated payment"` (grey, centered)

**Step Completion Flow:**
1. User taps "Complete Step" or "Pay Bill Now"
2. `completeStep(stepId)` marks step as `done: true`, increments `m.progress`
3. Toast notification: `"âœ“ {step.text} completed!"`
4. `render()` called â†’ step card updates to completed state
5. If all 3 steps done:
   - 1.5s delay â†’ `state.user.wallet.dataMB += 250`
   - Toast: `"ğŸ† Mission Complete! 250MB earned!"`
   - `render()` called again â†’ progress shows 3/3, "Pay Bill Now" button disappears

---

### 6.4 Profile / Identity Screen (`page: 'profile'`)

**Trigger:** `nav('profile')` via tapping avatar on Home screen

**Header Bar (background: `#1a1a1a`):**
- Back arrow â†’ `nav('home')`
- Title: "Identity"
- Profile section: `amina-profile.png` (64Ã—64px circle) + name + phone

**Basic Information Card:**
| Field | Value |
|---|---|
| Username | aminad |
| Email | a.diallo@email.com |
| Wallet | â‚¦2,500 (displayed in dark pill: `background:#1a1a1a`) |

> Note: Wallet value reflects `state.user.wallet.cash` â€” static in demo (cash doesn't change; only `dataMB` changes on mission completion)

**Badges & Verification Card:**
- Trophy icon (`fa-trophy`, gold) in card header
- Lists `state.user.badges`: `['SME Club Member', 'Early Adopter']`
- Each badge: dark row with "Verified" badge (`badge-success`: green pill)

---

### 6.5 Campaigns Screen (`page: 'campaigns'`)

**Trigger:** `nav('campaigns')` â€” not linked from any visible button in the demo UI (reachable programmatically)

**Header (background: `#1a1a1a`):**
- Title: "Campaigns" (text-2xl font-bold)
- Subtitle: "Track your goals and rewards"

**Active Goals Section:**
- Bullseye icon (`fa-bullseye`, emerald) section header
- Single mission card (Bills Booster), same data as Home card, clickable â†’ `nav('mission')`
- Progress bar + reward pill (gold)

**Recent Rewards Section:**
- Gift icon (`fa-gift`, gold) section header
- Lists `state.rewards` with amount, source, and colour-coded status badge

---

## 7. Design System

### 7.1 Colour Palette
| Name | Hex | Usage |
|---|---|---|
| Background (deepest) | `#0a0a0a` | Page background |
| Background (surface) | `#1a1a1a` | Header bars, inner elements |
| Background (card) | `#212121` | Card backgrounds |
| Background (card hover) | `#2a2a2a` | Card hover state |
| UBA Red | `#E41000` / `#E4002B` | CTA buttons, action shortcuts, "Continue with Phone Number" |
| UBA Red Dark | `#C00024` | Hover/dark variant |
| Emerald | `#10b981` | Primary action buttons, completed steps, progress bars |
| Emerald Dark | `#059669` | Button hover |
| Gold | `#f59e0b` | Rewards, badges, mission icons, "Active Goal" indicators |
| Gold Dark | `#d97706` | Gold hover/dark variant |
| Text Primary | `#ffffff` | Main text |
| Text Secondary | `#9ca3af` (gray-400) | Subtitles, labels |
| Border Default | `#333333` | Card borders |

### 7.2 Typography
- **Font family:** Montserrat (Google Fonts), fallback: system-ui, sans-serif
- **Font smoothing:** `-webkit-font-smoothing: antialiased`
- Weights used: 300 (light), 400 (regular), 500 (medium), 600 (semibold), 700 (bold), 800 (extrabold)

### 7.3 Component Classes

#### `.card`
```css
background: #212121;
border-radius: 1rem;
padding: 1.25rem;
box-shadow: 0 4px 6px rgba(0,0,0,0.3);
/* hover: background: #2a2a2a; cursor: pointer; */
```

#### `.btn`
```css
padding: 0.75rem 1.5rem;
border-radius: 0.75rem;
font-weight: 500;
transition: all 0.2s;
cursor: pointer;
border: none;
display: inline-flex;
align-items: center;
gap: 0.5rem;
/* active: transform: scale(0.95); */
```

#### `.btn-primary`
```css
background: #10b981;
color: white;
/* hover: background: #059669; */
```

#### `.progress-bar`
```css
width: 100%;
height: 0.5rem;
background: #1a1a1a;
border-radius: 9999px;
overflow: hidden;
```

#### `.progress-fill`
```css
height: 100%;
background: linear-gradient(to right, #10b981, #34d399);
transition: width 0.5s;
```

#### `.badge`
```css
display: inline-flex;
padding: 0.25rem 0.75rem;
border-radius: 9999px;
font-size: 0.75rem;
font-weight: 500;
```
- `.badge-warning` â†’ gold tint background + `#f59e0b` text
- `.badge-success` â†’ emerald tint background + `#10b981` text

#### `.toast`
```css
position: fixed;
bottom: 5rem;
left: 1rem; right: 1rem;
background: #212121;
border-left: 4px solid #10b981;
border-radius: 0.75rem;
padding: 1rem;
z-index: 50;
animation: slideUp 0.3s;
/* auto-removed after 2000ms */
```

---

## 8. Data Model (In-Memory)

All data lives in the global `state` object. There is no database or API.

### 8.1 State Object
```javascript
const state = {
  isAuth: false,          // boolean â€” has user "logged in"
  page: 'welcome',        // string â€” current page key

  user: {
    name: 'Amina Diallo',
    phone: '+234 *** **7',
    email: 'a.diallo@email.com',
    badges: ['SME Club Member', 'Early Adopter'],
    wallet: {
      cash: 2500,         // â‚¦ amount (display only, not modified in demo)
      dataMB: 150         // MB â€” incremented by 250 on mission completion
    }
  },

  missions: [
    {
      id: 'mission-bills',
      name: 'Bills Booster',
      desc: 'Pay 3 bills this month',
      reward: '250MB data',
      progress: 0,        // incremented by completeStep()
      total: 3,
      steps: [
        { id: 's1', text: 'Pay first bill',  done: false },
        { id: 's2', text: 'Pay second bill', done: false },
        { id: 's3', text: 'Pay third bill',  done: false }
      ]
    }
  ],

  rewards: [
    { id: 1, amount: 'â‚¦500 Airtime',    source: 'Download & Do',    status: 'redeem',   statusColor: '#E41000' },
    { id: 2, amount: 'â‚¦300 Cashback',   source: 'Bills Booster',    status: 'pending',  statusColor: '#666'    },
    { id: 3, amount: '2GB Data Bundle', source: 'SME QR Challenge', status: 'redeemed', statusColor: '#10b981' }
  ],

  totalRewards: {
    cash: 1200,   // â‚¦ total (display only)
    data: '2GB'   // string (display only)
  }
}
```

---

## 9. Build System

### 9.1 Dependencies
```json
{
  "dependencies": {
    "hono": "^4.12.2"
  },
  "devDependencies": {
    "@hono/vite-build": "^1.2.0",
    "@hono/vite-dev-server": "^0.18.2",
    "vite": "^6.3.5",
    "wrangler": "^4.4.0"
  }
}
```

### 9.2 npm Scripts
| Script | Command | Purpose |
|---|---|---|
| `npm run dev` | `vite` | Local Vite dev server (hot reload) |
| `npm run build` | `vite build` | Compile to `dist/` for Cloudflare |
| `npm run preview` | `wrangler pages dev` | Preview built dist locally |
| `npm run deploy` | `npm run build && wrangler pages deploy` | Build + deploy to Cloudflare Pages |
| `npm run cf-typegen` | `wrangler types --env-interface CloudflareBindings` | Generate Cloudflare binding types |

### 9.3 vite.config.ts
```typescript
import build from '@hono/vite-build/cloudflare-pages'
import devServer from '@hono/vite-dev-server'
import adapter from '@hono/vite-dev-server/cloudflare'
import { defineConfig } from 'vite'

export default defineConfig({
  plugins: [
    build(),
    devServer({ adapter, entry: 'src/index.tsx' })
  ]
})
```

### 9.4 wrangler.jsonc
```jsonc
{
  "$schema": "node_modules/wrangler/config-schema.json",
  "name": "webapp",
  "compatibility_date": "2026-02-25",
  "pages_build_output_dir": "./dist",
  "compatibility_flags": ["nodejs_compat"]
}
```

### 9.5 Build Output
Running `npm run build` produces:
```
dist/
â”œâ”€â”€ _worker.js       # Compiled Hono app (52.55 kB)
â”œâ”€â”€ _routes.json     # Cloudflare Pages routing
â””â”€â”€ static/          # Any static assets
```

> **Note:** Image assets (`welcome-background-with-logo.jpg`, `amina-profile.png`) must be **manually copied** from `public/` to `dist/` after each build, as they are served as static files by the Hono `serveStatic` handler.

---

## 10. PM2 Configuration (Development)

`ecosystem.config.cjs`:
```javascript
module.exports = {
  apps: [{
    name: 'uba-missions-rewards',
    script: 'npx',
    args: 'wrangler pages dev dist --ip 0.0.0.0 --port 3000',
    env: { NODE_ENV: 'development', PORT: 3000 },
    watch: false,
    instances: 1,
    exec_mode: 'fork'
  }]
}
```

### PM2 Commands
```bash
pm2 start ecosystem.config.cjs    # Start
pm2 restart uba-missions-rewards  # Restart after changes
pm2 logs uba-missions-rewards --nostream  # Check logs
pm2 delete all                    # Stop all
```

---

## 11. Local Development Workflow

```bash
# 1. Install dependencies
npm install

# 2. Build
npm run build

# 3. Copy images to dist (required after every build)
cp public/welcome-background-with-logo.jpg dist/
cp public/amina-profile.png dist/

# 4. Start with PM2
pm2 start ecosystem.config.cjs

# 5. Test
curl http://localhost:3000
# â†’ should return 200
```

---

## 12. Cloudflare Pages Deployment

```bash
# 1. Set up Cloudflare API key (run once)
# Use setup_cloudflare_api_key tool in GenSpark

# 2. Authenticate
npx wrangler whoami

# 3. Build
npm run build
cp public/*.jpg public/*.png dist/ 2>/dev/null || true

# 4. Create project (first time only)
npx wrangler pages project create webapp --production-branch main

# 5. Deploy
npx wrangler pages deploy dist --project-name webapp
```

---

## 13. Navigation Flow Diagram

```
[App Load]
     â”‚
     â–¼
[Welcome Screen]  â”€â”€â”€ login() â”€â”€â”€â–º  [Home Dashboard]
                                          â”‚
                              â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                              â–¼           â–¼            â–¼
                         [Mission]   [Profile]   [Campaigns]
                              â”‚           â”‚
                         nav('home')  nav('home')
                              â”‚
                         completeStep()
                              â”‚
                    step.done = true
                    m.progress++
                    toast("completed!")
                              â”‚
                    [All steps done?]
                         â”‚       â”‚
                        No      Yes
                         â”‚       â””â”€â”€â–º wallet.dataMB += 250
                         â”‚            toast("Mission Complete!")
                         â”‚
                      render()
```

---

## 14. Known Limitations & Demo Boundaries

| Limitation | Details |
|---|---|
| No persistence | All state is in-memory. Refreshing the page resets everything. |
| No real auth | Login buttons bypass authentication entirely |
| Single mission | Only "Bills Booster" is implemented |
| Static rewards | Reward list is hardcoded; completing the mission does not add a new reward entry |
| Wallet cash static | Only `dataMB` changes on mission completion; `cash` balance is display-only |
| Campaigns not linked | The Campaigns page (`nav('campaigns')`) has no navigation entry point in the current UI |
| "Chat to AI-Mobile" no-op | The floating red CTA button is visual only; no chat integration |
| Non-active shortcuts | Payments, Goals, Transfer quick actions have no behaviour |
| No URL routing | Page navigation does not update the browser URL |
| No responsive breakpoints | Designed for mobile viewport only (max-width ~430px); desktop layout not optimised |

---

## 15. Suggested Next Steps

These are the most logical enhancements for moving from demo to a more complete prototype:

1. **Add bottom navigation bar** â€” persistent tab bar linking Home, Campaigns, Profile for easier navigation
2. **Add multiple missions** â€” expand `state.missions` array with 2â€“3 more missions (e.g. "SME QR Challenge", "Download & Do")
3. **Wire up "Chat to AI-Mobile" CTA** â€” open a chat overlay or navigate to an AI chat screen
4. **Add URL-based routing** â€” use `window.location.hash` or the History API to sync page state with URL
5. **Persist state** â€” use `localStorage` to survive page refreshes during demos
6. **Add wallet screen** â€” dedicated page showing cash balance, data balance, and transaction history
7. **Animate mission completion** â€” full-screen celebration overlay when a mission is completed
8. **Make shortcuts functional** â€” wire Payments, Goals, Transfer to placeholder screens
9. **Backend API integration** â€” connect to a real Cloudflare D1 database for persistent user data
10. **Cloudflare Pages deployment** â€” deploy to production Cloudflare Pages with a custom domain
